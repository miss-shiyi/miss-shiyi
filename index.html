<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>拾遗集 | 漼时宜 Digital Garden</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css">
  
 <style>
  /* 1. 调整正文容器宽度，不要撑满全屏，增加呼吸感 */
  .markdown-section {
    max-width: 850px; /* 限制宽度 */
    margin: 0 auto;
    padding: 2rem 3rem !important;
  }

  /* 2. 侧边栏深度美化 */
  .sidebar {
    border-right: none !important;
    box-shadow: 2px 0 10px rgba(0,0,0,0.2);
  }
  .sidebar-nav ul li a {
    border-radius: 8px;
    margin: 5px 15px;
    padding: 8px 10px !important;
  }
  .sidebar-nav ul li.active > a {
    background: rgba(0, 230, 118, 0.1) !important;
    color: #00e676 !important;
    font-weight: bold;
  }

  /* 3. 给正文的卡片感 */
  .markdown-section h2 {
    border-bottom: 2px solid #00e676;
    padding-bottom: 10px;
    margin-top: 2em;
    font-size: 1.5em;
  }

  /* 4. 隐藏自带的那个丑陋的搜索框背景 */
  .search input {
    background: #2d2d2d !important;
    border: 1px solid #444 !important;
    border-radius: 20px !important;
  }
</style>
</head>
<body>
  <div id="app"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cover = document.querySelector('section.cover');
      if (cover) {
        // 注入星空
        const starsContainer = document.createElement('div');
        starsContainer.classList.add('stars');
        for (let i = 0; i < 50; i++) { // 更多星辰
          const star = document.createElement('div');
          star.classList.add('star');
          star.style.top = `${Math.random() * 100}%`;
          star.style.left = `${Math.random() * 100}%`;
          star.style.width = star.style.height = `${Math.random() * 3 + 1}px`;
          star.style.animationDuration = `${Math.random() * 5 + 3}s`;
          star.style.animationDelay = `${Math.random() * 5}s`;
          starsContainer.appendChild(star);
        }
        cover.prepend(starsContainer);

        // 注入 SVG 波浪
        const waveContainer = document.createElement('div');
        waveContainer.classList.add('wave-container');
        waveContainer.innerHTML = `
          <div class="wave"></div>
          <div class="wave"></div>
        `; // 两个波浪层叠
        cover.appendChild(waveContainer);
      }
    });

    window.$docsify = {
      name: '<img src="https://github.com/miss-shiyi.png" style="width: 60px; border-radius: 50%; border: 2px solid #00e676; margin-bottom: 10px; margin-top: 15px;"><br><span style="color:#00e676;">漼时宜</span>',
      repo: 'https://github.com/miss-shiyi/miss-shiyi',
      
      // --- 核心功能配置 ---
      loadSidebar: true,      // 必须：开启侧边栏
      coverpage: true,        // 必须：开启封面页
      onlyCover: true,        // 必须：首页只显示封面，点击后才进入内容
      auto2top: true,         // 切换页面自动回到顶部
      subMaxLevel: 2,         // 侧边栏子目录显示层级
      
      // --- 路径兼容性修复（解决子目录部署问题） ---
      basePath: './',         // 明确指定基础路径
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md', // 强制子路由也能找到根目录侧边栏
        '/README': '/README.md'           // 确保内部链接跳转正确
      },
      
      // --- 插件配置 ---
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: '搜索你的记忆...',
        noData: '未找到那段时光...',
        depth: 3
      },
      'plugins': [
        // 页脚插件
        function(hook) {
          var footer = [
            '<hr/>',
            '<footer style="text-align: center; color: rgba(255, 255, 255, 0.6); font-size: 0.9em;">',
            '<span>&copy; 2024-2026. miss-shiyi. </span>',
            '<span>Proudly powered by <a href="https://github.com/docsifyjs/docsify" target="_blank" style="color: #00e676; text-decoration: none;">docsify</a>.</span>',
            '</footer>'
          ].join('');

          hook.afterEach(function(html) {
            return html + footer;
          });
        }
      ]
    }
  </script>

  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
</body>
</html>
